(this["webpackJsonpflickerapp-client"]=this["webpackJsonpflickerapp-client"]||[]).push([[0],{127:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(11),c=a.n(o),l=(a(90),a(15)),i=a(174),s=a(194),u=a(45),m=a.n(u),d=a(75),p=a.n(d),f=a(192),h=a(35),b=a(169),g=a(13),E=a(42),v=a(172),k=a(173),j=a(51),O=a(193),w=a(175),y=a(67),C=a.n(y),S=a(49),x=a.n(S),F=a(171),I=Object(b.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},search:Object(h.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(g.c)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(g.c)(e.palette.common.white,.25)},marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"}),searchIcon:{color:"inherit",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(h.a)({padding:e.spacing(1,1,1,0),paddingLeft:"20px",transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:"12ch","&:focus":{width:"20ch"}})}})),N=function(e){var t=e.title,a=e.buttons,o=e.searchInputValue,c=e.onSearchInputChanged,s=e.onSearchSubmit,u=e.onMenuClick,m=I(),d=Object(E.a)(),p=Object(F.a)(d.breakpoints.up("md")),f=Object(n.useState)(!!o),h=Object(l.a)(f,2),b=h[0],g=h[1],y=function(e){e?g(e):o.trim()||g(e)};return r.a.createElement("div",{className:m.root},r.a.createElement(v.a,{position:"static"},r.a.createElement(k.a,null,r.a.createElement(i.a,{edge:"start",className:m.menuButton,color:"inherit","aria-label":"menu",onClick:u},r.a.createElement(C.a,null)),r.a.createElement(j.a,{variant:"h6",className:m.title},(!b||p)&&t),b&&r.a.createElement("div",{className:m.search},r.a.createElement(O.a,{autoFocus:!0,onKeyUp:function(e){13===e.keyCode&&s(),27===e.keyCode&&y(!1)},onBlur:function(){y(!1)},placeholder:"Search\u2026",classes:{root:m.inputRoot,input:m.inputInput},value:o,onChange:c,inputProps:{"aria-label":"search"},endAdornment:r.a.createElement(w.a,{position:"end"},r.a.createElement(i.a,{"aria-label":"search",className:m.searchIcon,onClick:s},r.a.createElement(x.a,null)))})),!b&&r.a.createElement(i.a,{"aria-label":"search",className:m.searchIcon,color:"inherit",onClick:function(){return y(!0)}},r.a.createElement(x.a,null)),a)))};N.defaultProps={buttons:[],searchInputValue:"",onSearchInputChanged:function(){},onSearchSubmit:function(){},onMenuClick:function(){}};var B=N,z=a(4),L=a(179),M=a(190),R=a(176),P=a(177),T=a(178),V=Object(z.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var t=e.children,a=e.classes,n=e.onClose;return r.a.createElement(R.a,{disableTypography:!0,className:a.root},r.a.createElement(j.a,{variant:"h6"},t),n?r.a.createElement(i.a,{"aria-label":"close",className:a.closeButton,onClick:n},r.a.createElement(m.a,null)):null)})),A=Object(z.a)((function(e){return{root:{padding:e.spacing(2)}}}))(P.a),D=Object(z.a)((function(e){return{root:{margin:0,padding:e.spacing(1)}}}))(T.a),_=function(e){var t=e.title,a=e.body,n=e.closeLabel,o=e.open,c=e.handleClose;return r.a.createElement(M.a,{onClose:c,"aria-labelledby":"customized-dialog-title",open:o},r.a.createElement(V,{id:"customized-dialog-title",onClose:c},t),r.a.createElement(A,{dividers:!0},r.a.createElement(j.a,{gutterBottom:!0},a)),r.a.createElement(D,null,r.a.createElement(L.a,{autoFocus:!0,onClick:c,color:"primary"},n)))};_.defaultProps={closeLabel:"close",handleClose:function(){}};var G=_,J=a(77),U={width:"100%",flexDirection:"column",height:"calc( 100% - 64px )",display:"flex",alignItems:"center",justifyContent:"center"},W=function(e){var t=e.children,a=Object(J.a)(e,["children"]);return r.a.createElement("div",Object.assign({style:U},a),t)},H=a(71),K=a.n(H),Y=a(68),$=a(69),q=a(78),Q=a(76),X=function(e){Object(q.a)(a,e);var t=Object(Q.a)(a);function a(e){var n;return Object(Y.a)(this,a),(n=t.call(this,e)).state={hasError:!1},n}return Object($.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.renderFallback,n=t.children,r=this.state,o=r.hasError,c=r.errorMessage;return o?a((function(){return e.setState({hasError:!1})}),c):n}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0,errorMessage:e}}}]),a}(r.a.Component),Z=a(189),ee=a(186),te=a(188),ae=a(191),ne=a(180),re=a(181),oe=a(185),ce=a(183),le=a(184),ie=a(182),se=a(70),ue=a.n(se),me=Object(b.a)({media:{height:"calc( 100vh - 400px )"},textEllipsis:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"}}),de=Object(n.forwardRef)((function(e,t){var a=e.feed,n=a.title,o=a.author,c=a.categories,l=a.direct_link,i=a.flickr_link,s=a.published_at,u=me();return r.a.createElement(ne.a,{ref:t,variant:"elevation",elevation:8},r.a.createElement(re.a,{onClick:function(){window.open(i,"blank")}},r.a.createElement(ie.a,{className:u.media,src:l,component:"img",title:n,onError:function(e){e.target.src="https://www.coraf.org/wp-content/themes/consultix/images/no-image-found-360x250.png"}}),r.a.createElement(ce.a,null,r.a.createElement(j.a,{gutterBottom:!0,variant:"h5",component:"h2",className:u.textEllipsis,title:n},""===n.trim()?r.a.createElement("i",null,"No title"):n),r.a.createElement(j.a,{variant:"body2",color:"textSecondary",component:"p",className:u.textEllipsis},"Posted by\xa0",r.a.createElement(le.a,{href:o.uri,target:"blank"},o.name),"\xa0at",s),r.a.createElement(j.a,{variant:"body2",color:"textSecondary",component:"p",className:u.textEllipsis,title:c.join(", ")},"Categories:\xa0",c.join("")?c.join(", "):r.a.createElement("i",null,"Uncategorized")))),r.a.createElement(oe.a,null,r.a.createElement(L.a,{size:"small",color:"primary",href:i,target:"blank"},"Open in Flickr\xa0",r.a.createElement(ue.a,null))))})),pe=(a(96),Object(b.a)((function(e){return{media:Object(h.a)({width:"90%"},e.breakpoints.up("md"),{width:"50%"})}}))),fe=r.a.memo((function(e){var t=e.feeds,a=e.loading,o=void 0!==a&&a,c=e.error;if(c)throw c;var i=Object(n.useState)({}),s=Object(l.a)(i,2),u=s[0],m=s[1],d=Object(n.useState)(1),p=Object(l.a)(d,2),f=p[0],h=p[1],b=pe(),g=Object(n.useMemo)((function(){return r.a.createElement(Z.a,{effect:"coverflow",spaceBetween:30,slidesPerView:"auto",centeredSlides:!0,onSlideChange:function(e){h(e.activeIndex+1)},style:{paddingTop:"20px",paddingBottom:"20px"},onSwiper:m},t.map((function(e){return r.a.createElement(ee.a,{key:e.id,className:b.media},r.a.createElement(de,{feed:e}))})))}),[t,b.media]);return t.length&&!1===o?r.a.createElement(r.a.Fragment,null,g,r.a.createElement("div",{style:{display:"flex",width:"100%",justifyContent:"center",position:"fixed",bottom:"20px"}},r.a.createElement(ae.a,{count:t.length,onChange:function(e,t){u.slideTo(t-1)},page:f,siblingCount:2,size:"small"}))):r.a.createElement(W,null,r.a.createElement(te.a,null))}),(function(e,t){return!(e.feeds!==t.feeds||e.loading!==t.loading||e.error!==t.error)}));fe.defaultProps={feeds:[],error:{},loading:!1};var he=fe,be=function(e){var t=e.flickr;return r.a.createElement(X,{renderFallback:function(e){return r.a.createElement(W,null,r.a.createElement(K.a,{color:"error"}),r.a.createElement("p",null,"Failed to load Flicker Feeds"),r.a.createElement(L.a,{variant:"contained",color:"primary",onClick:function(){t.clearError(),e(),t.refreshFeeds(t.tags)}},"Retry"))}},r.a.createElement(he,{feeds:t.feeds,loading:t.feedsLoading,error:t.error}))},ge=a(50),Ee=a.n(ge),ve=a(72),ke=a(73),je=a.n(ke),Oe=a(74),we=a.n(Oe),ye=function(e){var t="".concat("https://cors-anywhere.herokuapp.com/https://flickerapp-server.herokuapp.com/api/v1/flickr","?").concat(we.a.stringify({tags:e}));return je.a.get(t).then((function(e){return e.data.data}))},Ce=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(""),c=Object(l.a)(o,2),i=c[0],s=c[1],u=Object(n.useState)(!1),m=Object(l.a)(u,2),d=m[0],p=m[1],f=Object(n.useState)(null),h=Object(l.a)(f,2),b=h[0],g=h[1],E=Object(n.useCallback)((function(){g(null)}),[]);return{feeds:a,tags:i,setTags:s,feedsLoading:d,refreshFeeds:Object(n.useCallback)(function(){var e=Object(ve.a)(Ee.a.mark((function e(t){var a;return Ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),e.prev=1,e.next=4,ye(t);case 4:a=e.sent,r(a),p(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),g(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),[]),error:b,clearError:E}};be.useFlickr=Ce;var Se=be,xe=Se.useFlickr,Fe=function(e){var t=e.children,a=e.severity;return r.a.createElement(f.a,{elevation:6,variant:"filled",severity:a},t)},Ie=function(){var e=xe(),t=e.refreshFeeds,a=e.feedsLoading,o=e.tags,c=e.setTags,u=Object(n.useState)(""),d=Object(l.a)(u,2),f=d[0],h=d[1],b=Object(n.useState)(!1),g=Object(l.a)(b,2),E=g[0],v=g[1],k=r.a.useState(!0),j=Object(l.a)(k,2),O=j[0],w=j[1],y=function(e,t){"clickaway"!==t&&w(!1)};Object(n.useEffect)((function(){t()}),[t]);var C=[r.a.createElement(i.a,{id:"refresh-feeds",key:"btn-refresh",onClick:function(){a||t(o)},color:"inherit"},r.a.createElement(p.a,null))];return r.a.createElement(r.a.Fragment,null,r.a.createElement(s.a,{autoHideDuration:6e3,open:O,onClose:y,anchorOrigin:{vertical:"bottom",horizontal:"left"}},r.a.createElement(Fe,{severity:"success"},"FYI, you can swipe the image",r.a.createElement(i.a,{size:"small","aria-label":"close",color:"inherit",onClick:y},r.a.createElement(m.a,{fontSize:"small"})))),r.a.createElement(B,{title:"FlickrApp",buttons:C,searchInputValue:f,onSearchInputChanged:function(e){h(e.target.value)},onSearchSubmit:function(){o!==f&&(c(f),e.refreshFeeds(f))},onMenuClick:function(){v(!0)}}),r.a.createElement(G,{title:"About",body:"Made with \u2764\ufe0f By Tony Song",handleClose:function(){v(!1)},open:E}),r.a.createElement(Se,{flickr:e}))};var Ne=function(){return r.a.createElement(Ie,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Ne,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},85:function(e,t,a){e.exports=a(127)},90:function(e,t,a){}},[[85,1,2]]]);
//# sourceMappingURL=main.f0e6f819.chunk.js.map